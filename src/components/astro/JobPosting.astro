---
import type { JobPosting } from "../../types";

interface Props {
    job: JobPosting;
}

const { job } = Astro.props;
---

<article
    class="bg-white rounded-xl p-6 md:p-8 shadow-sm border border-neutral-100"
>
    <header class="mb-6 pb-6 border-b border-neutral-100">
        <h2
            class="text-2xl font-serif font-bold text-[--color-primary-900] mb-2"
        >
            {job.title}
        </h2>
        {job.subtitle && <p class="text-neutral-600">{job.subtitle}</p>}
    </header>

    <div class="space-y-6">
        <!-- Tasks -->
        <div>
            <h3 class="text-lg font-semibold text-[--color-primary-900] mb-3">
                Ihre Aufgaben
            </h3>
            <ul class="space-y-2">
                {
                    job.tasks.map((task) => (
                        <li class="flex items-start gap-3 text-neutral-700">
                            <span class="flex-shrink-0 w-1.5 h-1.5 mt-2 rounded-full bg-[--color-accent-500]" />
                            {task}
                        </li>
                    ))
                }
            </ul>
        </div>

        <!-- Requirements -->
        <div>
            <h3 class="text-lg font-semibold text-[--color-primary-900] mb-3">
                Ihr Profil
            </h3>
            <ul class="space-y-2">
                {
                    job.requirements.map((req) => (
                        <li class="flex items-start gap-3 text-neutral-700">
                            <span class="flex-shrink-0 w-1.5 h-1.5 mt-2 rounded-full bg-[--color-accent-500]" />
                            {req}
                        </li>
                    ))
                }
            </ul>
        </div>

        <!-- Benefits -->
        <div>
            <h3 class="text-lg font-semibold text-[--color-primary-900] mb-3">
                Wir bieten
            </h3>
            <ul class="space-y-2">
                {
                    job.benefits.map((benefit) => (
                        <li class="flex items-start gap-3 text-neutral-700">
                            <span class="flex-shrink-0 w-1.5 h-1.5 mt-2 rounded-full bg-[--color-accent-500]" />
                            {benefit}
                        </li>
                    ))
                }
            </ul>
        </div>
    </div>

    <!-- Contact CTA -->
    <footer class="mt-8 pt-6 border-t border-neutral-100">
        <div class="bg-[--color-primary-50] rounded-lg p-6">
            <h4 class="font-semibold text-[--color-primary-900] mb-2">
                Interesse geweckt?
            </h4>
            <p class="text-neutral-600 mb-4">
                Wir freuen uns auf Ihre Bewerbung â€“ gerne per E-Mail.
            </p>
            <div class="flex flex-col sm:flex-row gap-4">
                <a
                    href={`mailto:${job.contactEmail}`}
                    class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-[--color-primary-900] text-white font-medium rounded-lg hover:bg-[--color-primary-800] transition-colors"
                >
                    Jetzt bewerben
                </a>
                <a
                    href={`tel:${job.contactPhone.replace(/\//g, "")}`}
                    class="inline-flex items-center justify-center gap-2 px-6 py-3 border border-[--color-primary-900] text-[--color-primary-900] font-medium rounded-lg hover:bg-[--color-primary-50] transition-colors"
                >
                    {job.contactPhone}
                </a>
            </div>
        </div>
    </footer>
</article>
